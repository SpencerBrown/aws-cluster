# Define AWS structure of cluster

aws_region: us-west-2
aws_zone: us-west-2a
cluster_ip_prefix: "172.2"

# The following configures the three clusters: etcd, master, worker.
# subnet: is 0 for public subnet, 1 for private subnet.
# Instances in the public subnet will have public IP addresses assigned at launch.
# The public IP address may change if an instance is stopped, then started.

cluster_etcd:
  name: etcd
  count: 1
  instance_type: "t2.small"
  root_volume_type: "gp2"
  root_volume_size: 10
  node_number: 7
  subnet: 1
  nfs_role: client

cluster_master:
  name: master
  count: 1
  instance_type: "t2.small"
  root_volume_type: "gp2"
  root_volume_size: 10
  node_number: 20
  subnet: 0
  nfs_role: server

cluster_worker:
  name: worker
  count: 1
  instance_type: "t2.small"
  root_volume_type: "gp2"
  root_volume_size: 10
  node_number: 30
  subnet: 1
  nfs_role: client

# the following is here temporarily until Ansible supports the AWS NAT Gateway.
cluster_nat_gateway:
  ngw:
    id: "nat-0123b4dad811f404e"
    interface_id: "eni-2605e35d"
cluster_nat_eip:
  eip:
    pubic_ip: "52.37.171.25"
    alloc_id: "eipalloc-b820f2dc"
cluster_rt_private:
  route_table:
    id: "rtb-9169b9f5"